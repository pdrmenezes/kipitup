<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css" />
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <script type="module">
      const loading = document.getElementById("loading");
      const url_form = document.getElementById("url_form");
      const upload_button = document.getElementById("upload_button");
      upload_button.setAttribute("disabled", true);

      addEventListener("py:ready", () => {
        loading.style.display = "none";
        upload_button.removeAttribute("disabled");
      });
    </script>
    <link rel="stylesheet" href="output.css" />
    <title>Kipitup</title>
  </head>
  <body>
    <section class="flex flex-col items-center justify-center w-screen gap-20 h-screen bg-[#222]">
      <h1 class="text-6xl text-white font-mono font-semibold">Kipitup</h1>

      <div class="flex flex-col gap-4 justify-center w-[60vw] md:w-[40vw]" id="url_form">
        <label for="file_url" class="text-slate-200 cursor-pointer hover:text-slate-100">Please enter file url:</label>
        <input
          class="bg-gray-200 rounded-md focus:outline-none w-full py-2 px-4 text-gray-700 leading-tight focus:ring-1 focus:ring-lime-400 focus:bg-white text-sm"
          id="file_url"
          type="text"
          placeholder="https://drive.google.com/file/d/14I8jkXa3LQ"
        />
        <button
          py-click="print_text"
          id="upload_button"
          class="py-2 px-4 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:text-slate-200 disabled:border-0 rounded-md font-semibold border border-1 text-sm border-lime-300 text-gray-200 hover:bg-lime-300 hover:text-[#222] bg-transparent cursor-pointer"
        >
          Upload file
        </button>
        <span class="text-white text-center" id="loading">Loading Pyscript...</span>
        <span class="text-white text-center" id="output_span"></span>
      </div>
    </section>
    <script type="py" src="./main.py" config="../pyscript.json"></script>
  </body>
</html>
